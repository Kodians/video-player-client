(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{6898:function(e,t,n){"use strict";n(7294);var r=n(9837),a=n(1359),i=n(9647),c=n(9630),s=n(5893);t.Z=function(e){var t=e.video,n=t.fileBase64String,o=t.metadata,u=o.title,d=o.description;return(0,s.jsxs)(r.Z,{sx:{width:{xs:"100%",sm:"358px",md:"320px"},boxShadow:"none",borderRadius:0,transition:"box-shadow .3s","&:hover":{boxShadow:"0 0 11px rgba(33,33,33,.2)"}},children:[(0,s.jsx)(i.Z,{component:"img",alt:"green iguana",height:"120",image:"data:image/jpeg;base64,".concat(n),sx:{width:{xs:"100%",sm:"358px"},height:180}}),(0,s.jsxs)(a.Z,{sx:{height:"106px"},children:[(0,s.jsx)(c.Z,{gutterBottom:!0,variant:"h5",component:"div",children:u}),(0,s.jsx)(c.Z,{variant:"body2",color:"text.secondary",children:d})]})]})}},7013:function(e,t,n){"use strict";n.d(t,{N:function(){return d}});var r,a=n(29),i=n(7794),c=n.n(i),s=n(8767),o=n(1806),u=(r=(0,a.Z)(c().mark(function e(t,n){var r,a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(r=n.pageParam)?1:r,e.abrupt("return",o.h.get(t,{params:{page:a,limit:4,cacheId:"".concat(t.replaceAll("/","-")).concat(a)}}));case 2:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)}),d=function(e,t){return(0,s.useInfiniteQuery)([e],function(t){return u(e,t)},t)}},461:function(e,t,n){"use strict";n.r(t);var r=n(29),a=n(7794),i=n.n(a),c=n(7294),s=n(2004),o=n(1655),u=n(1953),d=n(9144),l=n(6898),h=n(1163),p=n(7013),x=n(5893);t.default=function(){var e,t=(0,h.useRouter)(),n=t.query.videoId,a=(0,c.useState)(),f=a[0],m=a[1],g=(0,p.N)("/videos/thumbnails",{getNextPageParam:function(e,t){if(t.length<4)return t.length+1},staleTime:1/0}),v=g.data,w=g.isLoading,b=g.isError,j=g.error,Z=(e=(0,r.Z)(i().mark(function e(t){var n,r,a,c;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("http://localhost:3000","/videos/").concat(t,"?cacheId=").concat(t),{cache:"default"});case 3:return n=e.sent,r=new Response(n.body),e.next=7,r.blob();case 7:a=e.sent,m(URL.createObjectURL(a)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])})),function(t){return e.apply(this,arguments)});return((0,c.useEffect)(function(){Z(n)},[t.isReady,n]),w)?(0,x.jsx)(o.Z,{sx:{bgcolor:"grey.900"},variant:"rectangular",className:"react-player"}):b?(0,x.jsx)("h2",{children:j instanceof Error&&j.message}):(0,x.jsx)(u.Z,{minHeight:"95vh",children:(0,x.jsxs)(d.Z,{direction:{xs:"column",md:"row"},children:[(0,x.jsx)(u.Z,{flex:1,children:(0,x.jsx)(u.Z,{sx:{width:"100%",position:"sticky",top:"86px"},children:f&&(0,x.jsx)(s.Z,{url:f,className:"react-player",controls:!0})})}),(0,x.jsx)(u.Z,{px:2,py:{md:1,xs:5},justifyContent:"center",alignItems:"center",children:null==v?void 0:v.pages.map(function(e){return e.data.map(function(e){return(0,x.jsx)(l.Z,{video:e,direction:"column"},e._id)})})})]})})}},8119:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/videos/[videoId]",function(){return n(461)}])}},function(e){e.O(0,[881,4,774,888,179],function(){return e(e.s=8119)}),_N_E=e.O()}]);