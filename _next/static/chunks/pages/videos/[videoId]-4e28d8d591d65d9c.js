(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{2738:function(e,n,t){"use strict";t(7294);var r=t(6242),a=t(4267),i=t(3965),c=t(5861),s=t(5893);n.Z=function(e){var n=e.video,t=n.fileBase64String,o=n.metadata,u=o.title,d=o.description;return(0,s.jsxs)(r.Z,{sx:{width:{xs:"100%",sm:"358px",md:"320px"},boxShadow:"none",borderRadius:0,transition:"box-shadow .3s","&:hover":{boxShadow:"0 0 11px rgba(33,33,33,.2)"}},children:[(0,s.jsx)(i.Z,{component:"img",alt:"green iguana",height:"120",image:"data:image/jpeg;base64,".concat(t),sx:{width:{xs:"100%",sm:"358px"},height:180}}),(0,s.jsxs)(a.Z,{sx:{height:"106px"},children:[(0,s.jsx)(c.Z,{gutterBottom:!0,variant:"h5",component:"div",children:u}),(0,s.jsx)(c.Z,{variant:"body2",color:"text.secondary",children:d})]})]})}},7013:function(e,n,t){"use strict";t.d(n,{N:function(){return d}});var r,a=t(29),i=t(7794),c=t.n(i),s=t(8767),o=t(5917),u=(r=(0,a.Z)(c().mark(function e(n,t){var r,a;return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(r=t.pageParam)?1:r,e.abrupt("return",o.h.get(n,{params:{page:a,limit:4,cacheId:"".concat(n.replaceAll("/","-")).concat(a)}}));case 2:case"end":return e.stop()}},e)})),function(e,n){return r.apply(this,arguments)}),d=function(e,n){return(0,s.useInfiniteQuery)([e],function(n){return u(e,n)},n)}},461:function(e,n,t){"use strict";t.r(n);var r=t(29),a=t(7794),i=t.n(a),c=t(7294),s=t(2004),o=t(8078),u=t(7357),d=t(6447),l=t(2738),h=t(1664),p=t.n(h),x=t(1163),f=t(7013),m=t(3795),g=t(5893);n.default=function(){var e,n=(0,x.useRouter)(),t=n.query.videoId,a=(0,c.useState)(),h=a[0],v=a[1],j=(0,f.N)("/videos/thumbnails",{getNextPageParam:function(e,n){if(n.length<4)return n.length+1},staleTime:1/0}),w=j.data,b=j.isLoading,Z=j.isError,y=j.error,_=(e=(0,r.Z)(i().mark(function e(n){var t,r,a,c;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("http://localhost:3000","/videos/").concat(n,"?cacheId=").concat(n),{cache:"default"});case 3:return t=e.sent,r=new Response(t.body),e.next=7,r.blob();case 7:a=e.sent,v(URL.createObjectURL(a)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])})),function(n){return e.apply(this,arguments)});return((0,c.useEffect)(function(){_(t)},[n.isReady,t]),b)?(0,g.jsx)(o.Z,{sx:{bgcolor:"grey.900"},variant:"rectangular",className:"react-player"}):Z?(0,g.jsx)("h2",{children:y instanceof Error&&y.message}):(0,g.jsx)(u.Z,{minHeight:"95vh",children:(0,g.jsxs)(d.Z,{direction:{xs:"column",md:"row"},children:[(0,g.jsx)(u.Z,{flex:1,children:(0,g.jsx)(u.Z,{sx:{width:"100%",position:"sticky",top:"86px"},children:h&&(0,g.jsx)(s.Z,{url:h,className:"react-player",controls:!0})})}),(0,g.jsx)(u.Z,{px:2,py:{md:1,xs:5},justifyContent:"center",alignItems:"center",children:null==w?void 0:w.pages.map(function(e){return e.data.map(function(e){return(0,g.jsx)(p(),{href:"/videos/".concat(e.metadata.videoId),passHref:!0,children:(0,g.jsx)(m.Z,{underline:"none",children:(0,g.jsx)(l.Z,{video:e,direction:"column"},e._id)})})})})})]})})}},8119:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/videos/[videoId]",function(){return t(461)}])}},function(e){e.O(0,[394,4,774,888,179],function(){return e(e.s=8119)}),_N_E=e.O()}]);