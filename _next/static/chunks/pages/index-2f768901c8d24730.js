(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2738:function(e,n,t){"use strict";t(7294);var r=t(6242),a=t(4267),i=t(3965),s=t(5861),o=t(5893);n.Z=function(e){var n=e.video,t=n.fileBase64String,c=n.metadata,u=c.title,d=c.description;return(0,o.jsxs)(r.Z,{sx:{width:{xs:"100%",sm:"358px",md:"320px"},boxShadow:"none",borderRadius:0,transition:"box-shadow .3s","&:hover":{boxShadow:"0 0 11px rgba(33,33,33,.2)"}},children:[(0,o.jsx)(i.Z,{component:"img",alt:"green iguana",height:"120",image:"data:image/jpeg;base64,".concat(t),sx:{width:{xs:"100%",sm:"358px"},height:180}}),(0,o.jsxs)(a.Z,{sx:{height:"106px"},children:[(0,o.jsx)(s.Z,{gutterBottom:!0,variant:"h5",component:"div",children:u}),(0,o.jsx)(s.Z,{variant:"body2",color:"text.secondary",children:d})]})]})}},7013:function(e,n,t){"use strict";t.d(n,{N:function(){return d}});var r,a=t(29),i=t(7794),s=t.n(i),o=t(8767),c=t(5917),u=(r=(0,a.Z)(s().mark(function e(n,t){var r,a;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(r=t.pageParam)?1:r,e.abrupt("return",c.h.get(n,{params:{page:a,limit:4,cacheId:"".concat(n.replaceAll("/","-")).concat(a)}}));case 2:case"end":return e.stop()}},e)})),function(e,n){return r.apply(this,arguments)}),d=function(e,n){return(0,o.useInfiniteQuery)([e],function(n){return u(e,n)},n)}},3011:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var r=t(6447),a=t(7357),i=t(3795),s=t(2738),o=t(1664),c=t.n(o),u=t(9578),d=t(7294),h=t(7013),l=t(6242),x=t(4267),f=t(8078),g=t(5893),p=function(e){var n=Array.from(Array(e.skeletons).keys());return(0,g.jsx)(g.Fragment,{children:n.map(function(e){return(0,g.jsxs)(l.Z,{sx:{maxWidth:345},elevation:0,children:[(0,g.jsx)(f.Z,{animation:"wave",variant:"rectangular",sx:{pt:"56.25%"}}),(0,g.jsx)(x.Z,{children:(0,g.jsxs)(d.Fragment,{children:[(0,g.jsx)(f.Z,{animation:"wave",height:10,style:{marginBottom:6}}),(0,g.jsx)(f.Z,{animation:"wave",height:10,width:300})]})})]},e)})})},m=function(){var e=(0,d.useContext)(u.y),n=e.state,t=n.videos,o=n.categoryId,l=e.dispatch,x=(0,d.useRef)("/videos/thumbnails"),f=(0,h.N)(x.current,{getNextPageParam:function(e,n){if(n.length<5)return n.length+1},staleTime:1/0}),m=f.data,v=f.isLoading,j=f.isError,w=f.error,Z=f.isFetching,b=f.isFetchingNextPage,y=f.hasNextPage,_=f.fetchNextPage;return((0,d.useEffect)(function(){o&&(t.length=0,x.current="/categories/".concat(o,"/videos/thumbnails")),null==m||m.pages.forEach(function(e){null==e||e.data.forEach(function(e){t.push(e)})}),l({type:"VIDEOS_CHANGED",payload:t})},[t,o,null==m?void 0:m.pages,l]),v)?(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(r.Z,{direction:"row",flexWrap:"wrap",justifyContent:"start",alignItems:"start",gap:2,children:(0,g.jsx)(p,{skeletons:4})})}):j?(0,g.jsx)("h2",{children:w instanceof Error&&w.message}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(r.Z,{direction:"row",flexWrap:"wrap",justifyContent:"start",alignItems:"start",gap:2,role:"videos",children:[t.map(function(e){return(0,g.jsx)(a.Z,{children:(0,g.jsx)(c(),{href:"/videos/".concat(e.metadata.videoId),passHref:!0,children:(0,g.jsx)(i.Z,{underline:"none",children:(0,g.jsx)(s.Z,{video:e})})})},e.metadata.videoId)}),Z&&b&&(0,g.jsx)(p,{skeletons:4})]}),(0,g.jsx)("button",{disabled:!y,onClick:function(){return _()},children:"Load More"}),(0,g.jsx)("div",{children:Z&&b?"Fetching...":null})]})}},8312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(3011)}])}},function(e){e.O(0,[394,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);