(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{2738:function(e,t,n){"use strict";n(7294);var r=n(6242),a=n(4267),i=n(3965),s=n(5861),o=n(5893);t.Z=function(e){var t=e.video,n=t.fileBase64String,c=t.metadata,u=c.title,d=c.description;return(0,o.jsxs)(r.Z,{sx:{width:{xs:"100%",sm:"358px",md:"320px"},boxShadow:"none",borderRadius:0,transition:"box-shadow .3s","&:hover":{boxShadow:"0 0 11px rgba(33,33,33,.2)"}},children:[(0,o.jsx)(i.Z,{component:"img",alt:"green iguana",height:"120",image:"data:image/jpeg;base64,".concat(n),sx:{width:{xs:"100%",sm:"358px"},height:180}}),(0,o.jsxs)(a.Z,{sx:{height:"106px"},children:[(0,o.jsx)(s.Z,{gutterBottom:!0,variant:"h5",component:"div",children:u}),(0,o.jsx)(s.Z,{variant:"body2",color:"text.secondary",children:d})]})]})}},7013:function(e,t,n){"use strict";n.d(t,{N:function(){return d}});var r,a=n(29),i=n(7794),s=n.n(i),o=n(8767),c=n(5917),u=(r=(0,a.Z)(s().mark(function e(t,n){var r,a;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=void 0===(r=n.pageParam)?1:r,e.abrupt("return",c.h.get(t,{params:{page:a,limit:4,cacheId:"".concat(t.replaceAll("/","-")).concat(a)}}));case 2:case"end":return e.stop()}},e)})),function(e,t){return r.apply(this,arguments)}),d=function(e,t){return(0,o.useInfiniteQuery)([e],function(t){return u(e,t)},t)}},3011:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(6447),a=n(7357),i=n(3795),s=n(2738),o=n(1664),c=n.n(o),u=n(9578),d=n(7294),h=n(7013),l=n(6242),x=n(4267),g=n(8078),f=n(5893),p=function(e){var t=Array.from(Array(e.skeletons).keys());return(0,f.jsx)(f.Fragment,{children:t.map(function(e){return(0,f.jsxs)(l.Z,{sx:{maxWidth:345},elevation:0,children:[(0,f.jsx)(g.Z,{animation:"wave",variant:"rectangular",sx:{pt:"56.25%"}}),(0,f.jsx)(x.Z,{children:(0,f.jsxs)(d.Fragment,{children:[(0,f.jsx)(g.Z,{animation:"wave",height:10,style:{marginBottom:6}}),(0,f.jsx)(g.Z,{animation:"wave",height:10,width:300})]})})]},e)})})},m=function(){var e=(0,d.useContext)(u.y),t=e.state,n=t.videos,o=t.categoryId,l=t.categoryName,x=e.dispatch,g=(0,d.useState)("/videos/thumbnails"),m=g[0],v=g[1],j=(0,h.N)(m,{getNextPageParam:function(e,t){if(t.length<5)return t.length+1},staleTime:1/0}),w=j.data,Z=j.isLoading,b=j.isError,y=j.error,N=j.isFetching,_=j.isFetchingNextPage,E=j.hasNextPage,k=j.fetchNextPage;return((0,d.useEffect)(function(){o&&(n.length=0,v("/categories/".concat(o,"/videos/thumbnails"))),"all"===l&&v("/videos/thumbnails"),n.length=0,null==w||w.pages.forEach(function(e){null==e||e.data.forEach(function(e){n.push(e)})}),x({type:"VIDEOS_CHANGED",payload:n})},[n,o,null==w?void 0:w.pages,x,l]),Z)?(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(r.Z,{direction:"row",flexWrap:"wrap",justifyContent:"start",alignItems:"start",gap:2,children:(0,f.jsx)(p,{skeletons:4})})}):b?(0,f.jsx)("h2",{children:y instanceof Error&&y.message}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(r.Z,{direction:"row",flexWrap:"wrap",justifyContent:"start",alignItems:"start",gap:2,role:"videos",children:[n.map(function(e){return(0,f.jsx)(a.Z,{children:(0,f.jsx)(c(),{href:"/videos/".concat(e.metadata.videoId),passHref:!0,children:(0,f.jsx)(i.Z,{underline:"none",children:(0,f.jsx)(s.Z,{video:e})})})},e.metadata.videoId)}),N&&_&&(0,f.jsx)(p,{skeletons:4})]}),(0,f.jsx)("button",{disabled:!E,onClick:function(){return k()},children:"Load More"}),(0,f.jsx)("div",{children:N&&_?"Fetching...":null})]})}},8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(3011)}])}},function(e){e.O(0,[394,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);